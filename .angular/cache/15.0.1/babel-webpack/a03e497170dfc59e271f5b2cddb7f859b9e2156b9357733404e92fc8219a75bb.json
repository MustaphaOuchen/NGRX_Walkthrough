{"ast":null,"code":"import { createReducer, on } from '@ngrx/store';\nimport { BooksActions } from './books.actions';\nexport const initialState = [];\n//handle actions that alter the user's book collection. \nexport const collectionReducer = createReducer(initialState, on(BooksActions.removeBook, (state, {\n  bookId\n}) => state.filter(id => id !== bookId)), on(BooksActions.addBook, (state, {\n  bookId\n}) => {\n  if (state.indexOf(bookId) > -1) return state; //avoid duplicates\n  return [...state, bookId];\n}));","map":{"version":3,"mappings":"AAAA,SAASA,aAAa,EAAEC,EAAE,QAAQ,aAAa;AAC/C,SAASC,YAAY,QAAQ,iBAAiB;AAE9C,OAAO,MAAMC,YAAY,GAA0B,EAAE;AAErD;AAEA,OAAO,MAAMC,iBAAiB,GAAGJ,aAAa,CAC5CG,YAAY,EACZF,EAAE,CAACC,YAAY,CAACG,UAAU,EAAE,CAACC,KAAK,EAAE;EAAEC;AAAM,CAAE,KAC5CD,KAAK,CAACE,MAAM,CAAEC,EAAE,IAAKA,EAAE,KAAKF,MAAM,CAAC,CACpC,EACDN,EAAE,CAACC,YAAY,CAACQ,OAAO,EAAE,CAACJ,KAAK,EAAE;EAAEC;AAAM,CAAE,KAAI;EAC7C,IAAID,KAAK,CAACK,OAAO,CAACJ,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,OAAOD,KAAK,CAAC,CAAC;EAE9C,OAAO,CAAC,GAAGA,KAAK,EAAEC,MAAM,CAAC;AAC3B,CAAC,CAAC,CACH","names":["createReducer","on","BooksActions","initialState","collectionReducer","removeBook","state","bookId","filter","id","addBook","indexOf"],"sourceRoot":"","sources":["C:\\Users\\mouchen\\Desktop\\AngularLearning\\NGRX_Walkthrough\\src\\app\\state\\collection.reducer.ts"],"sourcesContent":["import { createReducer, on } from '@ngrx/store';\r\nimport { BooksActions } from './books.actions';\r\n\r\nexport const initialState: ReadonlyArray<string> = [];\r\n\r\n//handle actions that alter the user's book collection. \r\n\r\nexport const collectionReducer = createReducer(\r\n  initialState,\r\n  on(BooksActions.removeBook, (state, { bookId }) =>\r\n    state.filter((id) => id !== bookId)\r\n  ),\r\n  on(BooksActions.addBook, (state, { bookId }) => {\r\n    if (state.indexOf(bookId) > -1) return state; //avoid duplicates\r\n\r\n    return [...state, bookId];\r\n  })\r\n);\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}